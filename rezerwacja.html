<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wizyta u lekarza</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.css">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.js"></script>
    <style>
        
        body {
          font-family: Arial, sans-serif;
        }
    
        .appointment-container {
          border: 1px solid #ccc;
          padding: 10px;
          margin: 10px;
          max-width: 300px;
        }
    
        .appointment-info {
          margin-bottom: 8px;
        }
    
        .delete-button {
          background-color: #ff6666;
          color: white;
          border: none;
          padding: 5px 10px;
          cursor: pointer;
        }
      </style>

</head>

<body>
    <header>
        <div class="header-content">
            <div class="clinic-logo">
                <img src="img/logo.png" alt="Logo Przychodni">
            </div>
            <div class="clinic-name">
                <h1>LekMed</h1>
            </div>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="lekarze.html">Nasi lekarze</a></li>
            <li><a href="kontakt.html">Kontakt</a></li>
            <li><a href="o-nas.html">O nas</a></li>
            <li><a href="oferta.html">Oferta</a></li>
            <li><a href="kalendarz.html">Kalendarz</a></li>
        </ul>
    </nav>

    
  <title>Strona rezerwacji</title>
  
</head>
<body>
<h2>Lista zarezerwowanych wizyt:</h2>
<center><div id="appointmentContainer">
  <!-- Kontener dla danych o wizycie -->
</div></center>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Sprawdź, czy dane rezerwacji są dostępne w Local Storage
    if (localStorage.getItem("appointment")) {
      // Pobierz dane z Local Storage
      var jsonData = localStorage.getItem("appointment");

      // Parsuj dane JSON
      var appointmentData = JSON.parse(jsonData);

      // Wyświetl dane na stronie
      displayAppointmentData(appointmentData);
    }
  });

  function displayAppointmentData(data) {
    // Uzyskaj dostęp do kontenera HTML
    var container = document.getElementById("appointmentContainer");

    // Utwórz kontener dla danych o wizycie
    var appointmentContainer = document.createElement("div");
    appointmentContainer.classList.add("appointment-container");

    // Dodaj informacje o wizycie do kontenera
    var dateElement = createAppointmentInfo("Data wizyty: " + data.date);
    var timeElement = createAppointmentInfo("Godzina wizyty: " + data.time);
    var purposeElement = createAppointmentInfo("Rodzaj wizyty: " + data.purpose);

    // Dodaj przycisk usuwania
    var deleteButton = createDeleteButton(appointmentContainer);

    // Dodaj elementy do kontenera
    appointmentContainer.appendChild(dateElement);
    appointmentContainer.appendChild(timeElement);
    appointmentContainer.appendChild(purposeElement);
    appointmentContainer.appendChild(deleteButton);

    // Dodaj kontener do głównego kontenera na stronie
    container.appendChild(appointmentContainer);
  }

  function createAppointmentInfo(text) {
    var element = document.createElement("p");
    element.classList.add("appointment-info");
    element.textContent = text;
    return element;
  }

  function createDeleteButton(container) {
    var button = document.createElement("button");
    button.classList.add("delete-button");
    button.textContent = "Usuń rezerwację";

    // Dodaj obsługę kliknięcia na przycisku usuwania
    button.addEventListener("click", function() {
      // Usuń dane z Local Storage
      localStorage.removeItem("appointment");

      // Usuń kontener z danymi o wizycie
      container.remove();
    });

    return button;
  }
</script>

</body>
</html>
